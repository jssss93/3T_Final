<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
<mapper namespace="faq">

	<select id="selectList" parameterType="hashmap"
		resultType="hashmap">
		<include refid="common.pagingPre" /> 
		<![CDATA[
			SELECT
			    GOODS_NO,
			    GOODS_NAME,
			    GOODS_CONTENT,
			    GOODS_READCNT,
			    GOODS_REGDATE,
			    GOODS_COLOR,
			    GOODS_PRICE,
			    GOODS_SIZE,
			    GOODS_CATEGORY,
			    GOODS_RECOMMEND,
			    GOODS_TOTALCOUNT,
			    GOODS_RELATED_PRODUCT,
			    GOODS_FILE_ORGNAME,
			    GOODS_FILE_SAVNAME,
			    ROW_NUMBER() OVER (ORDER BY GOODS_NO DESC) RNUM

			FROM
			    GOODS   
			
		]]>
		<include refid="common.pagingPost" />

	</select>

	<insert id="insert" parameterType="hashmap">
		
    <![CDATA[
         
        INSERT INTO FAQ
        (
            FAQ_NO,
            FAQ_SUBJECT,
            FAQ_CONTENT,
            FAQ_REGDATE
        )
        VALUES
        (
            #{FAQ_NO},
            #{FAQ_SUBEJCT},
            #{FAQ_CONTENT},
            SYSDATE
        )
    ]]>
	</insert>



	

	<update id="updateReadCnt" parameterType="hashmap">
		<![CDATA[
			UPDATE 
				GOODS 
			SET
				GOODS_READCNT = NVL(GOODS_READCNT, 0) + 1
			WHERE
				GOODS_NO = #{GOODS_NO}	
		]]>
	</update>

	<select id="selectDetail" parameterType="hashmap"
		resultType="hashmap">
		<![CDATA[
			SELECT
			    GOODS_NO,
			    GOODS_NAME,
			    GOODS_CONTENT,
			    GOODS_READCNT,
			    GOODS_REGDATE,
			    GOODS_COLOR,
			    GOODS_PRICE,
			    GOODS_SIZE,	
			    GOODS_CATEGORY,
			    GOODS_RECOMMEND,
			    GOODS_TOTALCOUNT,
			    GOODS_RELATED_PRODUCT,
			    GOODS_FILE_ORGNAME,
			    GOODS_FILE_SAVNAME
			FROM
			    GOODS 
			WHERE
				GOODS_NO=#{GOODS_NO,jdbcType=INTEGER}		
		]]>
	</select>

	<update id="update" parameterType="hashmap">
		<![CDATA[
			UPDATE 
				GOODS 
			SET
				GOODS_NAME = #{GOODS_NAME},
				GOODS_CONTENT = #{GOODS_CONTENT}
			WHERE
				GOODS_NO = #{GOODS_NO}	
		]]>
	</update>

	<update id="delete" parameterType="hashmap">
		<![CDATA[
			DELETE
			FROM
				GOODS
			WHERE
				GOODS_NO = #{GOODS_NO}
		]]>
	</update>
	
	<select id="selectFileList" parameterType="hashmap" resultType="hashmap">
    	<![CDATA[
        SELECT
            FILE_NO,
            FILE_ORG_NAME,
            FILE_SAV_NAME,
            ROUND(FILE_SIZE/1024,1) AS FILE_SIZE
        FROM
            FILE_3T
        WHERE
        	GOODS_NO=#{GOODS_NO}
        
    	]]>
	</select>


	
	<insert id="insertFile" parameterType="hashmap">
    	<![CDATA[
        INSERT INTO FILE_3T
        (
            FILE_NO,
            GOODS_NO,
            FILE_ORG_NAME,
            FILE_SAV_NAME,
            FILE_SIZE
        )
        VALUES
        (
            FILE_NO_SEQ.NEXTVAL,
            #{GOODS_NO},
            #{FILE_ORG_NAME},
            #{FILE_SAV_NAME},
            #{FILE_SIZE}
        )
    	]]>
	</insert>
	

	<update id="deleteFileList" parameterType="hashmap">
    	<![CDATA[
        UPDATE
        	FILE_3T
        SET
            FILE_DEL = 'Y'
        WHERE
            GOODS_NO = #{GOODS_NO} 
    	]]>
	</update>

	<update id="updateFile" parameterType="hashmap">
    	<![CDATA[
        UPDATE 
        	FILE_3T 
        SET
            DEL_GB = 'N'
        WHERE
            GOODS_NO = #{GOODS_NO}  
   		]]>
	</update>


</mapper> -->